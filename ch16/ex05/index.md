## 標準入力、標準出力、標準エラー出力、リダイレクト、パイプについて調べよ

### 標準入力

プログラムが外部からデータを受け取るための仕組み。

例えば、キーボード入力。

### 標準出力

プログラムが処理結果を出力するための仕組み。

通常はターミナルに出力される。

### 標準エラー出力

エラーメッセージや警告を出力するための仕組み。

標準出力とは別のストリームであり、エラーだけを分離して扱える。

通常はターミナルに出力される。

### リダイレクト

標準入力や標準出力、標準エラー出力の出力先や入力元を変更すること。

よく使う記号は以下。

- ">" : 標準出力をファイルに書き込み（上書き）
- "> >" : 標準出力をファイルに追記
- "2>" : 標準エラー出力をファイルに書き込み
- "<" : ファイルを標準入力として読み込む

### パイプ

あるコマンドの標準出力を、別のコマンドの標準入力に渡す仕組み。

例えば、`ls | grep ".txt"`のようにlsの結果をgrepに渡し、.txtを含むファイルだけを表示できる

## cat.mjsを使った実験

実行環境が`alias node='winpty node.exe`となっており、標準入力や標準出力がTTY(端末、コンソール)前提となっていたため、`unalias node` でエイリアスを外してから以下を実行した。

### node cat.mjs

予想：キーボード入力したものがターミナルに出力される

結果：キーボード入力したものがターミナルに出力される

理由：引数がないため、標準入力を標準出力へパイプするから

### echo FOO | node cat.mjs

予想：FOOがターミナルに出力される

結果：FOOがターミナルに出力される

理由：echoの結果であるFOOがnode cat.mjsの標準入力に流れ、それが標準出力にパイプされるため

### node cat.mjs > output.txt

予想：キーボード入力したものがoutput.txtに出力される

結果：キーボード入力したものがoutput.txtに出力される

理由：node cat.mjsが引数なしで実行されているため、標準入力が標準出力にパイプされる。そして、その標準出力をoutput.txtにリダイレクトしているため。

### node cat.mjs file

予想：fileの内容がターミナルに出力される

結果：fileの内容がターミナルに出力される

理由：引数のファイルを読み込んで標準出力にパイプするため

### node cat.mjs file > output.txt

予想：fileの内容がoutput.txtに出力される

結果：fileの内容がoutput.txtに出力される

理由：node cat.mjsでファイルの内容が標準出力にパイプされる。そして、その標準出力をoutput.txtにリダイレクトしているため。

### node cat.mjs invalid-file > output.txt

予想：エラーがターミナルに出力される

結果：エラーがターミナルに出力される

理由：存在しないファイルをfs.createReadStreamで読み込もうとしているため、例外が発生するから

### node cat.mjs invalid-file 2> error.txt

予想：エラーがerror.txtに出力される

結果：エラーがerror.txtに出力される

理由：存在しないファイルをfs.createReadStreamで読み込もうとしているため、例外が発生する。そして、その例外がerror.txtにリダイレクトされるため。
