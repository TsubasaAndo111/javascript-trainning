## Web アプリケーションがユーザの機密情報をセキュアに扱うためにはどのようなことが必要になるか

1. 機密情報をクライアント側に保存しない

- パスワードやクレジットカード番号などは、基本的にサーバ側で管理し、クライアントには渡さない。
  - 機密情報の処理はサーバ側で行う
- クライアント側に保存する場合は、トークン化（例：OAuthトークン）や一時的なセッションIDを利用。
  - HttpOnly Cookieに保存することでJSからアクセスできなくなる(XSS対策)

2. 通信経路の暗号化

- HTTPS（TLS）を必須化し、すべての通信を暗号化。
- HSTS（HTTP Strict Transport Security）を設定して、常にHTTPSを強制。

3.  サーバ側での暗号化とハッシュ化

- データベースに保存する際は、AESなどの強力な暗号化を使用。
  - 暗号化は復号が必要な情報が対象、鍵管理アルゴリズムが重要
- パスワードはハッシュ化（bcrypt, Argon2など）＋ソルトを付与。
  - ハッシュ化は復号できないので、照合のみでよいようなパスワードなどに用いる

4. データ最小化

- 必要な情報だけを扱い、不要な機密情報は保存しない。
- セッションやキャッシュの有効期限を短く設定。
