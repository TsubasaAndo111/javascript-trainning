## クリックジャッキングとは(トップページを読み込むとエラーになる理由)

ユーザーに気づかれないように、悪意あるサイトが透明なiframeなどで他サイトを重ねて表示し、ユーザーのクリックを誘導する攻撃手法のこと。
例えば、偽のボタン(無料ギフトを受け取る)の上に、銀行サイトの送金ボタンへのiframeを設置しておくことで、ユーザが意図せず、別サイトのボタンを実行されられてしまう。

対策として、HTTPレスポンスヘッダーのX-Frame-Options: DENY や Content-Security-Policy: frame-ancestors 'none' によって、Youtubeなどの主要サイトは他ドメインのiframeの埋め込みを拒否している。

以上の理由から、今回トップページを読み込もうとした際に、iframeにYoutubeを埋め込もうとして、エラーになる。

## script.jsが動作しない理由

同一オリジンポリシーのため、「異なるオリジン（プロトコル・ドメイン・ポートが異なる）間でのJavaScriptからのDOM操作やデータ取得は禁止」されている。  
今回の場合、自分のサイトとyoutube.comはオリジンが異なるため、iframe の中の contentWindow やDOMを読み取ろうとするとセキュリティエラー（クロスオリジンエラー）となり、script.js が動作しない。

## 同一オリジンポリシーがない世界を想定した場合の重大な問題

攻撃者サイトのスクリプトが別ドメインでユーザーがログイン済みのサイトの中身を読み取り・書き換えできるようになり、重大なリスクが発生する。

以下のような例が考えられる。

- 個人情報の盗み出し

  ユーザーが攻撃者サイトを開いた瞬間、そのページのスクリプトが別タブやiframeで開いている銀行・メール等（既にログイン済み）を直接読み取れる。
  口座残高、取引履歴、受信メールなどを抜き取って攻撃者サーバに送信。

- ユーザー操作の不正な改ざん

  攻撃スクリプトがフォーム入力内容（宛先・金額）を書き換え、送金や注文を自動実行させる。  
  ボタンのテキストや確認ダイアログを差し替えてユーザーを誤認させる（見た目は正しいが裏で違う操作が発生）。

- クロスサイトスクリプティング（XSS）やマルウェア拡散のリスク増大

  攻撃サイトのスクリプトが別ドメインページの DOM に介入して、任意のコンテンツを注入。  
  フィッシング形態の偽フォームを差し込んだり、ダウンロードを自動実行させる。
